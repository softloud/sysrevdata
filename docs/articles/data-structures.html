<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>data-structures • sysrevdata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="data-structures">
<meta property="og:description" content="sysrevdata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sysrevdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/analytical.html">analytical</a>
    </li>
    <li>
      <a href="../articles/data-structures.html">data-structures</a>
    </li>
    <li>
      <a href="../articles/narrative.html">narrative</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data-structures_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>data-structures</h1>
            
      
      
      <div class="hidden name"><code>data-structures.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># packages used in this walkthrough</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">sysrevdata</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<div id="identifying-data-structures" class="section level2">
<h2 class="hasAnchor">
<a href="#identifying-data-structures" class="anchor"></a>Identifying data structures</h2>
<p>Here we provide some examples of common data structures, but these are by no means comprehensive. Data can be constructed using numerics for categorical variables, character strings encoding numerics, and booleans encoded as character strings, as in the wide example considered next.</p>
<div id="wide" class="section level3">
<h3 class="hasAnchor">
<a href="#wide" class="anchor"></a>Wide</h3>
<p>This dataset is in wide format. We have a number of different observations associated with ‘strip management’ listed in columns. See the <a href="https://softloud.github.io/sysrevdata/index.html">example datasets</a> for more information about the data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">bufferstrips</span> <span class="op">%&gt;%</span>
  <span class="co"># extract the columns that contain stripmanagement</span>
  <span class="fu">select</span><span class="op">(</span><span class="fu">contains</span><span class="op">(</span><span class="st">"stripmanagement"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,072 x 20</span>
<span class="co">#&gt;    stripmanagement… stripmanagement… stripmanagement… stripmanagement…</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  2 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  3 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  4 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  5 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  6 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  7 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  8 Unmanaged        &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt;  9 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt; 10 &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;            </span>
<span class="co">#&gt; # … with 1,062 more rows, and 16 more variables:</span>
<span class="co">#&gt; #   stripmanagement_soildisturbed &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_soildisturbedinfo &lt;chr&gt;, stripmanagement_cut &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_cutinfo &lt;chr&gt;, stripmanagement_grazed &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_grazedinfo &lt;chr&gt;, stripmanagement_harvested &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_harvestedinfo &lt;chr&gt;, stripmanagement_sownplanted &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_sownplantedinfo &lt;chr&gt;, stripmanagement_pesticide &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_pesticideinfo &lt;chr&gt;, stripmanagement_managedother &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_managedotherinfo &lt;chr&gt;, stripmanagement_notdescribed &lt;chr&gt;,</span>
<span class="co">#&gt; #   stripmanagement_notdescribedinfo &lt;chr&gt;</span></code></pre></div>
<p>Each observation associated with each variable in this data set is indicated with a column that contains the name of the column if there is an association and <code>NA</code> if not.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">bufferstrips</span> <span class="op">%&gt;%</span>
  <span class="co"># extract the soil disturbed observation associated with strip management</span>
  <span class="fu">select</span><span class="op">(</span><span class="st">"stripmanagement_soildisturbed"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,072 x 1</span>
<span class="co">#&gt;    stripmanagement_soildisturbed</span>
<span class="co">#&gt;    &lt;chr&gt;                        </span>
<span class="co">#&gt;  1 &lt;NA&gt;                         </span>
<span class="co">#&gt;  2 &lt;NA&gt;                         </span>
<span class="co">#&gt;  3 &lt;NA&gt;                         </span>
<span class="co">#&gt;  4 &lt;NA&gt;                         </span>
<span class="co">#&gt;  5 &lt;NA&gt;                         </span>
<span class="co">#&gt;  6 Soil disturbed               </span>
<span class="co">#&gt;  7 &lt;NA&gt;                         </span>
<span class="co">#&gt;  8 &lt;NA&gt;                         </span>
<span class="co">#&gt;  9 &lt;NA&gt;                         </span>
<span class="co">#&gt; 10 &lt;NA&gt;                         </span>
<span class="co">#&gt; # … with 1,062 more rows</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hazard</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 10 x 5</span>
<span class="co">#&gt;    article_id region title               authors             hazard             </span>
<span class="co">#&gt;         &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;               &lt;chr&gt;               &lt;chr&gt;              </span>
<span class="co">#&gt;  1    6205478 Africa The response to cl… Nti, F.K.; Barkley… Drought||| Precipi…</span>
<span class="co">#&gt;  2    6205479 Africa Sheep breeding in … Jemaa, T; Huguenin… General climate im…</span>
<span class="co">#&gt;  3    6205480 Africa I eat two meals pe… Saronga, N.J.; Mos… Drought||| Extreme…</span>
<span class="co">#&gt;  4    6205481 Africa Migration and Self… Ng'ang'a, SK; Bult… Precipitation vari…</span>
<span class="co">#&gt;  5    6205482 Africa Migration as an ad… Simatele, D; Simat… Other1||| Precipit…</span>
<span class="co">#&gt;  6    6205483 Africa DEVELOPMENT OF CON… Thierfelder, C; Bu… Drought||| Precipi…</span>
<span class="co">#&gt;  7    6205484 Africa Adaptation and res… Tambo, JA           General climate im…</span>
<span class="co">#&gt;  8    6205485 Africa Perception of and … Bedeke, SB; Vanhov… General climate im…</span>
<span class="co">#&gt;  9    6205486 Africa Diversification an… Zorom, M; Barbier,… General climate im…</span>
<span class="co">#&gt; 10    6205487 Africa Adapting agricultu… Bryan, E; Ringler,… Extreme precipitat…</span></code></pre></div>
<p>If we extract the <code>hazard</code> variable, we can see the condensed string, and <code>|||</code> separators.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hazard</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pull</span><span class="op">(</span><span class="va">hazard</span><span class="op">)</span>
<span class="co">#&gt; [1] "Drought||| Precipitation variability||| General climate impacts"                                             </span>
<span class="co">#&gt; [2] "General climate impacts"                                                                                     </span>
<span class="co">#&gt; [3] "Drought||| Extreme precipitation and inland flooding"                                                        </span>
<span class="co">#&gt; [4] "Precipitation variability||| Drought||| Extreme precipitation and inland flooding||| General climate impacts"</span>
<span class="co">#&gt; [5] "Other1||| Precipitation variability||| Drought||| General climate impacts"                                   </span>
<span class="co">#&gt; [6] "Drought||| Precipitation variability"</span></code></pre></div>
</div>
</div>
<div id="what-structure-do-i-need" class="section level2">
<h2 class="hasAnchor">
<a href="#what-structure-do-i-need" class="anchor"></a>What structure do I need?</h2>
<p>The desired data structure for analysis and publication will be dictated by the common forms of reporting in the specialisation, such as visualisations and tables.</p>
<p>-example from one of the other vignettes</p>
</div>
<div id="what-structure-do-i-have" class="section level2">
<h2 class="hasAnchor">
<a href="#what-structure-do-i-have" class="anchor"></a>What structure do I have?</h2>
<p>A common pitfall in analysis is to let the structure of the data dictate the reporting chosen. However, data is rarely provided in the format for the tables or visualisations that provide the best insights in to the pertinent questions. A common obstacle to analysis is the requirement to identify the difference between the structure of the data one begins with and what desired properties it is lacking.</p>
<p>Consider this example dataset from a published systematic review. Here are the first 10 rows and first 5 columns of that dataset.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">bufferstrips</span> <span class="op">%&gt;%</span>
  <span class="co"># select first five columns</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="co"># select first 10 rows</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 10 x 5</span>
<span class="co">#&gt;     item_id short_title    title                                    year period </span>
<span class="co">#&gt;       &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;                                   &lt;dbl&gt; &lt;chr&gt;  </span>
<span class="co">#&gt;  1 20641367 Aaron (2005)   Invertebrate Biodiversity in Agricultu…  2005 2005-2…</span>
<span class="co">#&gt;  2 20641374 Aavik (2008)   What is the role of local landscape st…  2008 2005-2…</span>
<span class="co">#&gt;  3 20641375 Aavik (2010)   Quantifying the effect of organic farm…  2010 2010-2…</span>
<span class="co">#&gt;  4 20641382 Abu-Zreig (20… Experimental investigation of runoff r…  2004 2000-2…</span>
<span class="co">#&gt;  5 20641384 Abu-Zreig (20… Phosphorus removal in vegetated filter…  2003 2000-2…</span>
<span class="co">#&gt;  6 20641386 Adams (2013)   Disturbance and landscape effects on a…  2013 2010-2…</span>
<span class="co">#&gt;  7 20641389 Ahern (2002)   Effect of different wheat production s…  2002 2000-2…</span>
<span class="co">#&gt;  8 20641390 Al (2013)      Does the presence of grassy strips and…  2013 2010-2…</span>
<span class="co">#&gt;  9 20641397 Alignier (201… Changes in management practices over t…  2015 2015-2…</span>
<span class="co">#&gt; 10 20641398 Anan'eva (200… Comparative assessment of soil microbi…  2008 2005-2…</span></code></pre></div>
<p>We can find out how many rows and columns are in the dataset.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bufferstrips</span> <span class="op">%&gt;%</span>
  <span class="co"># return the dimensions: rows, columns</span>
  <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 1072   84</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Charles Gray, Matthew Grainger, Neal Haddaway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
