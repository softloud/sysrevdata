<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Replace a given separator across dataframe — replace_sep • sysrevdata</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Replace a given separator across dataframe — replace_sep" />
<meta property="og:description" content="Takes a given separator and replaces it with an alternative
across the dataframe." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sysrevdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Machine_readable.html">Machine readable</a>
    </li>
    <li>
      <a href="../articles/narrative.html">narrative</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Replace a given separator across dataframe</h1>
    
    <div class="hidden name"><code>replace_sep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a given separator and replaces it with an alternative
across the dataframe.</p>
    </div>

    <pre class="usage"><span class='fu'>replace_sep</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>old_sep</span>, new_sep <span class='op'>=</span> <span class='st'>"; "</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A dataframe containing rows of systematic review data.</p></td>
    </tr>
    <tr>
      <th>old_sep</th>
      <td><p>An existing character used to separate values within the
data. The default is set to ';'.</p></td>
    </tr>
    <tr>
      <th>new_sep</th>
      <td><p>A replacement character used to separate values within the
data. The default is set to ';'.</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span>
    <span class='fu'>replace_sep</span><span class='op'>(</span>old_sep <span class='op'>=</span> <span class='st'>'xxx'</span>, new_sep <span class='op'>=</span> <span class='st'>'; '</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; <span class='error'>Error in (function (..., row.names = NULL, check.rows = FALSE, check.names = TRUE,     fix.empty.names = TRUE, stringsAsFactors = default.stringsAsFactors()) {    data.row.names &lt;- if (check.rows &amp;&amp; is.null(row.names))         function(current, new, i) {            if (is.character(current))                 new &lt;- as.character(new)            if (is.character(new))                 current &lt;- as.character(current)            if (anyDuplicated(new))                 return(current)            if (is.null(current))                 return(new)            if (all(current == new) || all(current == ""))                 return(new)            stop(gettextf("mismatch of row names in arguments of 'data.frame', item %d",                 i), domain = NA)        }    else function(current, new, i) {        if (is.null(current)) {            if (anyDuplicated(new)) {                warning(gettextf("some row.names duplicated: %s --&gt; row.names NOT used",                   paste(which(duplicated(new)), collapse = ",")),                   domain = NA)                current            }            else new        }        else current    }    object &lt;- as.list(substitute(list(...)))[-1L]    mirn &lt;- missing(row.names)    mrn &lt;- is.null(row.names)    x &lt;- list(...)    n &lt;- length(x)    if (n &lt; 1L) {        if (!mrn) {            if (is.object(row.names) || !is.integer(row.names))                 row.names &lt;- as.character(row.names)            if (anyNA(row.names))                 stop("row names contain missing values")            if (anyDuplicated(row.names))                 stop(gettextf("duplicate row.names: %s", paste(unique(row.names[duplicated(row.names)]),                   collapse = ", ")), domain = NA)        }        else row.names &lt;- integer()        return(structure(list(), names = character(), row.names = row.names,             class = "data.frame"))    }    vnames &lt;- names(x)    if (length(vnames) != n)         vnames &lt;- character(n)    no.vn &lt;- !nzchar(vnames)    vlist &lt;- vnames &lt;- as.list(vnames)    nrows &lt;- ncols &lt;- integer(n)    for (i in seq_len(n)) {        xi &lt;- if (is.character(x[[i]]) || is.list(x[[i]]))             as.data.frame(x[[i]], optional = TRUE, stringsAsFactors = stringsAsFactors)        else as.data.frame(x[[i]], optional = TRUE)        nrows[i] &lt;- .row_names_info(xi)        ncols[i] &lt;- length(xi)        namesi &lt;- names(xi)        if (ncols[i] &gt; 1L) {            if (length(namesi) == 0L)                 namesi &lt;- seq_len(ncols[i])            vnames[[i]] &lt;- if (no.vn[i])                 namesi            else paste(vnames[[i]], namesi, sep = ".")        }        else if (length(namesi)) {            vnames[[i]] &lt;- namesi        }        else if (fix.empty.names &amp;&amp; no.vn[[i]]) {            tmpname &lt;- deparse(object[[i]], nlines = 1L)[1L]            if (substr(tmpname, 1L, 2L) == "I(") {                ntmpn &lt;- nchar(tmpname, "c")                if (substr(tmpname, ntmpn, ntmpn) == ")")                   tmpname &lt;- substr(tmpname, 3L, ntmpn - 1L)            }            vnames[[i]] &lt;- tmpname        }        if (mirn &amp;&amp; nrows[i] &gt; 0L) {            rowsi &lt;- attr(xi, "row.names")            if (any(nzchar(rowsi)))                 row.names &lt;- data.row.names(row.names, rowsi,                   i)        }        nrows[i] &lt;- abs(nrows[i])        vlist[[i]] &lt;- xi    }    nr &lt;- max(nrows)    for (i in seq_len(n)[nrows &lt; nr]) {        xi &lt;- vlist[[i]]        if (nrows[i] &gt; 0L &amp;&amp; (nr%%nrows[i] == 0L)) {            xi &lt;- unclass(xi)            fixed &lt;- TRUE            for (j in seq_along(xi)) {                xi1 &lt;- xi[[j]]                if (is.vector(xi1) || is.factor(xi1))                   xi[[j]] &lt;- rep(xi1, length.out = nr)                else if (is.character(xi1) &amp;&amp; inherits(xi1, "AsIs"))                   xi[[j]] &lt;- structure(rep(xi1, length.out = nr),                     class = class(xi1))                else if (inherits(xi1, "Date") || inherits(xi1,                   "POSIXct"))                   xi[[j]] &lt;- rep(xi1, length.out = nr)                else {                  fixed &lt;- FALSE                  break                }            }            if (fixed) {                vlist[[i]] &lt;- xi                next            }        }        stop(gettextf("arguments imply differing number of rows: %s",             paste(unique(nrows), collapse = ", ")), domain = NA)    }    value &lt;- unlist(vlist, recursive = FALSE, use.names = FALSE)    vnames &lt;- unlist(vnames[ncols &gt; 0L])    if (fix.empty.names &amp;&amp; any(noname &lt;- !nzchar(vnames)))         vnames[noname] &lt;- paste0("Var.", seq_along(vnames))[noname]    if (check.names) {        if (fix.empty.names)             vnames &lt;- make.names(vnames, unique = TRUE)        else {            nz &lt;- nzchar(vnames)            vnames[nz] &lt;- make.names(vnames[nz], unique = TRUE)        }    }    names(value) &lt;- vnames    if (!mrn) {        if (length(row.names) == 1L &amp;&amp; nr != 1L) {            if (is.character(row.names))                 row.names &lt;- match(row.names, vnames, 0L)            if (length(row.names) != 1L || row.names &lt; 1L ||                 row.names &gt; length(vnames))                 stop("'row.names' should specify one of the variables")            i &lt;- row.names            row.names &lt;- value[[i]]            value &lt;- value[-i]        }        else if (!is.null(row.names) &amp;&amp; length(row.names) !=             nr)             stop("row names supplied are of the wrong length")    }    else if (!is.null(row.names) &amp;&amp; length(row.names) != nr) {        warning("row names were found from a short variable and have been discarded")        row.names &lt;- NULL    }    class(value) &lt;- "data.frame"    if (is.null(row.names))         attr(value, "row.names") &lt;- .set_row_names(nr)    else {        if (is.object(row.names) || !is.integer(row.names))             row.names &lt;- as.character(row.names)        if (anyNA(row.names))             stop("row names contain missing values")        if (anyDuplicated(row.names))             stop(gettextf("duplicate row.names: %s", paste(unique(row.names[duplicated(row.names)]),                 collapse = ", ")), domain = NA)        row.names(value) &lt;- row.names    }    value})(... = "", list = "character", package = character(0), lib.loc = character(0),     verbose = c("getOption", "verbose"), envir = ".GlobalEnv",     overwrite = "TRUE", c("{", "fileExt &lt;- function(x) {\n    db &lt;- grepl(\"\\\\.[^.]+\\\\.(gz|bz2|xz)$\", x)\n    ans &lt;- sub(\".*\\\\.\", \"\", x)\n    ans[db] &lt;- sub(\".*\\\\.([^.]+\\\\.)(gz|bz2|xz)$\", \"\\\\1\\\\2\", x[db])\n    ans\n}",     "names &lt;- c(as.character(substitute(list(...))[-1]), list)",     "if (!is.null(package)) {\n    if (!is.character(package)) \n        stop(\"'package' must be a character string or NULL\")\n    if (any(package %in% \"base\")) \n        warning(\"datasets have been moved from package 'base' to package 'datasets'\")\n    if (any(package %in% \"stats\")) \n        warning(\"datasets have been moved from package 'stats' to package 'datasets'\")\n    package[package %in% c(\"base\", \"stats\")] &lt;- \"datasets\"\n}",     "paths &lt;- find.package(package, lib.loc, verbose = verbose)",     "if (is.null(lib.loc)) paths &lt;- c(path.package(package, TRUE), if (!length(package)) getwd(), paths)",     "paths &lt;- unique(normalizePath(paths[file.exists(paths)]))",     "paths &lt;- paths[dir.exists(file.path(paths, \"data\"))]",     "dataExts &lt;- tools:::.make_file_exts(\"data\")", "if (length(names) == 0) {\n    db &lt;- matrix(character(), nrow = 0, ncol = 4)\n    for (path in paths) {\n        entries &lt;- NULL\n        packageName &lt;- if (file_test(\"-f\", file.path(path, \"DESCRIPTION\"))) \n            basename(path)\n        else \".\"\n        if (file_test(\"-f\", INDEX &lt;- file.path(path, \"Meta\", \"data.rds\"))) {\n            entries &lt;- readRDS(INDEX)\n        }\n        else {\n            dataDir &lt;- file.path(path, \"data\")\n            entries &lt;- tools::list_files_with_type(dataDir, \"data\")\n            if (length(entries)) {\n                entries &lt;- unique(tools::file_path_sans_ext(basename(entries)))\n                entries &lt;- cbind(entries, \"\")\n            }\n        }\n        if (NROW(entries)) {\n            if (is.matrix(entries) &amp;&amp; ncol(entries) == 2) \n                db &lt;- rbind(db, cbind(packageName, dirname(path), entries))\n            else warning(gettextf(\"data index for package %s is invalid and will be ignored\", sQuote(packageName)), domain = NA, call. = FALSE)\n        }\n    }\n    colnames(db) &lt;- c(\"Package\", \"LibPath\", \"Item\", \"Title\")\n    footer &lt;- if (missing(package)) \n        paste0(\"Use \", sQuote(paste(\"data(package =\", \".packages(all.available = TRUE))\")), \"\\n\", \"to list the data sets in all *available* packages.\")\n    else NULL\n    y &lt;- list(title = \"Data sets\", header = NULL, results = db, footer = footer)\n    class(y) &lt;- \"packageIQR\"\n    return(y)\n}",     "paths &lt;- file.path(paths, \"data\")", "for (name in names) {\n    found &lt;- FALSE\n    for (p in paths) {\n        tmp_env &lt;- if (overwrite) \n            envir\n        else new.env()\n        if (file_test(\"-f\", file.path(p, \"Rdata.rds\"))) {\n            rds &lt;- readRDS(file.path(p, \"Rdata.rds\"))\n            if (name %in% names(rds)) {\n                found &lt;- TRUE\n                if (verbose) \n                  message(sprintf(\"name=%s:\\t found in Rdata.rds\", name), domain = NA)\n                thispkg &lt;- sub(\".*/([^/]*)/data$\", \"\\\\1\", p)\n                thispkg &lt;- sub(\"_.*$\", \"\", thispkg)\n                thispkg &lt;- paste0(\"package:\", thispkg)\n                objs &lt;- rds[[name]]\n                lazyLoad(file.path(p, \"Rdata\"), envir = tmp_env, filter = function(x) x %in% objs)\n                break\n            }\n            else if (verbose) \n                message(sprintf(\"name=%s:\\t NOT found in names() of Rdata.rds, i.e.,\\n\\t%s\\n\", name, paste(names(rds), collapse = \",\")), domain = NA)\n        }\n        if (file_test(\"-f\", file.path(p, \"Rdata.zip\"))) {\n            warning(\"zipped data found for package \", sQuote(basename(dirname(p))), \".\\nThat is defunct, so please re-install the package.\", domain = NA)\n            if (file_test(\"-f\", fp &lt;- file.path(p, \"filelist\"))) \n                files &lt;- file.path(p, scan(fp, what = \"\", quiet = TRUE))\n            else {\n                warning(gettextf(\"file 'filelist' is missing for directory %s\", sQuote(p)), domain = NA)\n                next\n            }\n        }\n        else {\n            files &lt;- list.files(p, full.names = TRUE)\n        }\n        files &lt;- files[grep(name, files, fixed = TRUE)]\n        if (length(files) &gt; 1) {\n            o &lt;- match(fileExt(files), dataExts, nomatch = 100)\n            paths0 &lt;- dirname(files)\n            paths0 &lt;- factor(paths0, levels = unique(paths0))\n            files &lt;- files[order(paths0, o)]\n        }\n        if (length(files)) {\n            for (file in files) {\n                if (verbose) \n                  message(\"name=\", name, \":\\t file= ...\", .Platform$file.sep, basename(file), \"::\\t\", appendLF = FALSE, domain = NA)\n                ext &lt;- fileExt(file)\n                if (basename(file) != paste0(name, \".\", ext)) \n                  found &lt;- FALSE\n                else {\n                  found &lt;- TRUE\n                  zfile &lt;- file\n                  zipname &lt;- file.path(dirname(file), \"Rdata.zip\")\n                  if (file.exists(zipname)) {\n                    Rdatadir &lt;- tempfile(\"Rdata\")\n                    dir.create(Rdatadir, showWarnings = FALSE)\n                    topic &lt;- basename(file)\n                    rc &lt;- .External(C_unzip, zipname, topic, Rdatadir, FALSE, TRUE, FALSE, FALSE)\n                    if (rc == 0) \n                      zfile &lt;- file.path(Rdatadir, topic)\n                  }\n                  if (zfile != file) \n                    on.exit(unlink(zfile))\n                  switch(ext, R = , r = {\n                    library(\"utils\")\n                    sys.source(zfile, chdir = TRUE, envir = tmp_env)\n                  }, RData = , rdata = , rda = load(zfile, envir = tmp_env), TXT = , txt = , tab = , tab.gz = , tab.bz2 = , tab.xz = , txt.gz = , txt.bz2 = , txt.xz = assign(name, read.table(zfile, header = TRUE, as.is = FALSE), envir = tmp_env), CSV = , csv = , csv.gz = , csv.bz2 = , csv.xz = assign(name, read.table(zfile, header = TRUE, sep = \";\", as.is = FALSE), envir = tmp_env), found &lt;- FALSE)\n                }\n                if (found) \n                  break\n            }\n            if (verbose) \n                message(if (!found) \n                  \"*NOT* \", \"found\", domain = NA)\n        }\n        if (found) \n            break\n    }\n    if (!found) {\n        warning(gettextf(\"data set %s not found\", sQuote(name)), domain = NA)\n    }\n    else if (!overwrite) {\n        for (o in ls(envir = tmp_env, all.names = TRUE)) {\n            if (exists(o, envir = envir, inherits = FALSE)) \n                warning(gettextf(\"an object named %s already exists and will not be overwritten\", sQuote(o)))\n            else assign(o, get(o, envir = tmp_env, inherits = FALSE), envir = envir)\n        }\n        rm(tmp_env)\n    }\n}",     "invisible(names)"), check.names = TRUE, fix.empty.names = TRUE,     stringsAsFactors = TRUE): arguments imply differing number of rows: 1, 0, 2, 13</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Charles Gray, Matthew Grainger, Neal Haddaway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


